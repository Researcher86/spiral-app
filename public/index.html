<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
<!--    <script src="https://cdn.jsdelivr.net/gh/spiral/websockets/build/socket.js"></script>-->
</head>
<body>

</body>

<script>
    window.addEventListener("load", function () {
        let ws = new WebSocket('ws://127.0.0.1:8080/ws');
        ws.onopen = function () {
            console.log("open");
            ws.send(`{"command":"join", "topics":["user.5"]}`)
        };
        ws.onclose = function () {
            console.log("close");
        };
        ws.onmessage = function (evt) {
            console.log(`MESSAGE: ${evt.data}`);
        };
        ws.onerror = function (evt) {
            console.log("error");
            console.log(evt);
        };
    });
</script>

</html>
